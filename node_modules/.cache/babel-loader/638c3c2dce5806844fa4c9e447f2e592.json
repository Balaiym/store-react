{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Acer\\\\Desktop\\\\e-commerce-react-app-master\\\\src\\\\components\\\\showcase\\\\QuantityBlock\\\\QuantityBlock.tsx\",\n    _s = $RefreshSig$();\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { decrement, increment, removeProductFromCart, setToLocalStorage } from '../../../store/UserSlice';\nimport classes from './QuantityBlock.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst QuantityBlock = _ref => {\n  _s();\n\n  let {\n    id,\n    disableDecrement = false,\n    background = '#fff'\n  } = _ref;\n  const dispatch = useDispatch();\n  const {\n    cart\n  } = useSelector(state => state.user);\n  const productInCart = cart.find(cartItem => cartItem.productId === id);\n  const isDisabled = disableDecrement && (productInCart === null || productInCart === void 0 ? void 0 : productInCart.quantity) === 1;\n\n  const incrementHandler = () => {\n    dispatch(increment(id));\n    dispatch(setToLocalStorage('cart'));\n  };\n\n  const decrementHandler = () => {\n    dispatch(decrement(id));\n    dispatch(setToLocalStorage('cart'));\n\n    if ((productInCart === null || productInCart === void 0 ? void 0 : productInCart.quantity) === 1) {\n      dispatch(removeProductFromCart(id));\n      dispatch(setToLocalStorage('cart'));\n      return;\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes['quantity-block'],\n    style: {\n      backgroundColor: background\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: classes.button,\n      onClick: decrementHandler,\n      disabled: isDisabled,\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: classes['button-text'],\n        children: \"-\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: classes.quantity,\n      children: (productInCart === null || productInCart === void 0 ? void 0 : productInCart.quantity) || 1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: classes.button,\n      onClick: incrementHandler,\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: classes['button-text'],\n        children: \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n\n_s(QuantityBlock, \"kgHXrT/L0EKJd0spEslwyjr3GeM=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = QuantityBlock;\nexport default QuantityBlock;\n\nvar _c;\n\n$RefreshReg$(_c, \"QuantityBlock\");","map":{"version":3,"names":["useDispatch","useSelector","decrement","increment","removeProductFromCart","setToLocalStorage","classes","QuantityBlock","id","disableDecrement","background","dispatch","cart","state","user","productInCart","find","cartItem","productId","isDisabled","quantity","incrementHandler","decrementHandler","backgroundColor","button"],"sources":["C:/Users/Acer/Desktop/e-commerce-react-app-master/src/components/showcase/QuantityBlock/QuantityBlock.tsx"],"sourcesContent":["import { useDispatch, useSelector } from 'react-redux';\nimport { AppDispatch, RootState } from '../../../store/store';\nimport { decrement, increment, removeProductFromCart, setToLocalStorage } from '../../../store/UserSlice';\nimport classes from './QuantityBlock.module.css';\n\ninterface IQuantityBlockProps {\n  id: string;\n  disableDecrement?: boolean;\n  background?: string,\n}\n\nconst QuantityBlock: React.FC<IQuantityBlockProps> = ({ id, disableDecrement = false, background = '#fff' }) => {\n  const dispatch = useDispatch<AppDispatch>();\n  const { cart } = useSelector((state: RootState) => state.user);\n  const productInCart = cart.find((cartItem) => cartItem.productId === id);\n  const isDisabled = disableDecrement && productInCart?.quantity === 1;\n\n  const incrementHandler = () => {\n    dispatch(increment(id));\n    dispatch(setToLocalStorage('cart'))\n  };\n\n  const decrementHandler = () => {\n    dispatch(decrement(id));\n    dispatch(setToLocalStorage('cart'))\n\n    if (productInCart?.quantity === 1) {\n      dispatch(removeProductFromCart(id));\n      dispatch(setToLocalStorage('cart'))\n      return;\n    }\n  };\n\n  return (\n    <div className={classes['quantity-block']} style={{backgroundColor: background}}>\n      <button className={classes.button} onClick={decrementHandler} disabled={isDisabled}>\n        <span className={classes['button-text']}>-</span>\n      </button>\n\n      <span className={classes.quantity}>{productInCart?.quantity || 1}</span>\n      <button className={classes.button} onClick={incrementHandler}>\n        <span className={classes['button-text']}>+</span>\n      </button>\n    </div>\n  );\n};\n\nexport default QuantityBlock;\n"],"mappings":";;;AAAA,SAASA,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AAEA,SAASC,SAAT,EAAoBC,SAApB,EAA+BC,qBAA/B,EAAsDC,iBAAtD,QAA+E,0BAA/E;AACA,OAAOC,OAAP,MAAoB,4BAApB;;;AAQA,MAAMC,aAA4C,GAAG,QAA2D;EAAA;;EAAA,IAA1D;IAAEC,EAAF;IAAMC,gBAAgB,GAAG,KAAzB;IAAgCC,UAAU,GAAG;EAA7C,CAA0D;EAC9G,MAAMC,QAAQ,GAAGX,WAAW,EAA5B;EACA,MAAM;IAAEY;EAAF,IAAWX,WAAW,CAAEY,KAAD,IAAsBA,KAAK,CAACC,IAA7B,CAA5B;EACA,MAAMC,aAAa,GAAGH,IAAI,CAACI,IAAL,CAAWC,QAAD,IAAcA,QAAQ,CAACC,SAAT,KAAuBV,EAA/C,CAAtB;EACA,MAAMW,UAAU,GAAGV,gBAAgB,IAAI,CAAAM,aAAa,SAAb,IAAAA,aAAa,WAAb,YAAAA,aAAa,CAAEK,QAAf,MAA4B,CAAnE;;EAEA,MAAMC,gBAAgB,GAAG,MAAM;IAC7BV,QAAQ,CAACR,SAAS,CAACK,EAAD,CAAV,CAAR;IACAG,QAAQ,CAACN,iBAAiB,CAAC,MAAD,CAAlB,CAAR;EACD,CAHD;;EAKA,MAAMiB,gBAAgB,GAAG,MAAM;IAC7BX,QAAQ,CAACT,SAAS,CAACM,EAAD,CAAV,CAAR;IACAG,QAAQ,CAACN,iBAAiB,CAAC,MAAD,CAAlB,CAAR;;IAEA,IAAI,CAAAU,aAAa,SAAb,IAAAA,aAAa,WAAb,YAAAA,aAAa,CAAEK,QAAf,MAA4B,CAAhC,EAAmC;MACjCT,QAAQ,CAACP,qBAAqB,CAACI,EAAD,CAAtB,CAAR;MACAG,QAAQ,CAACN,iBAAiB,CAAC,MAAD,CAAlB,CAAR;MACA;IACD;EACF,CATD;;EAWA,oBACE;IAAK,SAAS,EAAEC,OAAO,CAAC,gBAAD,CAAvB;IAA2C,KAAK,EAAE;MAACiB,eAAe,EAAEb;IAAlB,CAAlD;IAAA,wBACE;MAAQ,SAAS,EAAEJ,OAAO,CAACkB,MAA3B;MAAmC,OAAO,EAAEF,gBAA5C;MAA8D,QAAQ,EAAEH,UAAxE;MAAA,uBACE;QAAM,SAAS,EAAEb,OAAO,CAAC,aAAD,CAAxB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF,eAKE;MAAM,SAAS,EAAEA,OAAO,CAACc,QAAzB;MAAA,UAAoC,CAAAL,aAAa,SAAb,IAAAA,aAAa,WAAb,YAAAA,aAAa,CAAEK,QAAf,KAA2B;IAA/D;MAAA;MAAA;MAAA;IAAA,QALF,eAME;MAAQ,SAAS,EAAEd,OAAO,CAACkB,MAA3B;MAAmC,OAAO,EAAEH,gBAA5C;MAAA,uBACE;QAAM,SAAS,EAAEf,OAAO,CAAC,aAAD,CAAxB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QANF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAYD,CAlCD;;GAAMC,a;UACaP,W,EACAC,W;;;KAFbM,a;AAoCN,eAAeA,aAAf"},"metadata":{},"sourceType":"module"}