{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Acer\\\\Desktop\\\\e-commerce-react-app-master\\\\src\\\\components\\\\pages\\\\adminPages\\\\ProductsPage\\\\ProductsPage.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ProductForm from '../../../admin/ProductForm/ProductForm';\nimport Placeholder from '../../../UI/Placeholder/Placeholder';\nimport Actions from '../../../layouts/adminLayouts/Actions/Actions';\nimport Content from '../../../layouts/adminLayouts/Content/Content';\nimport ProductsList from '../../../admin/ProductsList/ProductsList';\nimport { removeSelectedProduct } from '../../../../store/ProductSlice';\nimport Loader from '../../../UI/Loader/Loader';\nimport { ADD_BRAND_AND_CATEGORY_MESSAGE, ADD_BRAND_MESSAGE, ADD_CATEGORY_MESSAGE, NO_PRODUCTS_MESSAGE } from '../../../../constants/messages';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ProductsPage = () => {\n  _s();\n\n  const [isFormOpen, setIsFormOpen] = useState(false);\n  const {\n    brand,\n    category,\n    product\n  } = useSelector(state => state);\n  const dispatch = useDispatch();\n  const isDataLoading = [brand.isLoading, category.isLoading, product.isLoading].some(Boolean);\n  const hasCategories = category.categories.length > 0;\n  const hasProducts = product.products.length > 0;\n  const hasBrands = brand.brands.length > 0;\n  const isFetchingError = product.error.isError;\n  const isProductListVisible = hasCategories && hasProducts && hasBrands && !isFormOpen && !isFetchingError;\n\n  const openForm = () => {\n    setIsFormOpen(true);\n  };\n\n  const closeForm = () => {\n    setIsFormOpen(false);\n    dispatch(removeSelectedProduct());\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Actions, {\n      title: 'Товары',\n      onAction: openForm,\n      actionBtnText: 'Добавить товар',\n      isOpen: isFormOpen,\n      isDisabled: !hasCategories || !hasBrands\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Content, {\n      children: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [isDataLoading && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 29\n        }, this), !isDataLoading && isFetchingError && /*#__PURE__*/_jsxDEV(Placeholder, {\n          text: product.error.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 49\n        }, this), !isDataLoading && !isFetchingError && !hasCategories && /*#__PURE__*/_jsxDEV(Placeholder, {\n          text: ADD_CATEGORY_MESSAGE\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 68\n        }, this), !isDataLoading && !isFetchingError && !hasBrands && /*#__PURE__*/_jsxDEV(Placeholder, {\n          text: ADD_BRAND_MESSAGE\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 64\n        }, this), !isDataLoading && !isFetchingError && !hasBrands && !hasCategories && /*#__PURE__*/_jsxDEV(Placeholder, {\n          text: ADD_BRAND_AND_CATEGORY_MESSAGE\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this), !isDataLoading && !isFetchingError && !hasProducts && !hasBrands && !hasCategories && /*#__PURE__*/_jsxDEV(Placeholder, {\n          text: NO_PRODUCTS_MESSAGE\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), isProductListVisible && /*#__PURE__*/_jsxDEV(ProductsList, {\n          products: product.products,\n          onOpen: openForm,\n          isLoading: product.isLoading,\n          categories: category.categories,\n          brands: brand.brands\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), isFormOpen && /*#__PURE__*/_jsxDEV(ProductForm, {\n          onClose: closeForm,\n          categories: category.categories,\n          brands: brand.brands\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ProductsPage, \"U1ms4qONnqJJvKsyZflBILM9RL0=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = ProductsPage;\nexport default ProductsPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductsPage\");","map":{"version":3,"names":["useState","useDispatch","useSelector","ProductForm","Placeholder","Actions","Content","ProductsList","removeSelectedProduct","Loader","ADD_BRAND_AND_CATEGORY_MESSAGE","ADD_BRAND_MESSAGE","ADD_CATEGORY_MESSAGE","NO_PRODUCTS_MESSAGE","ProductsPage","isFormOpen","setIsFormOpen","brand","category","product","state","dispatch","isDataLoading","isLoading","some","Boolean","hasCategories","categories","length","hasProducts","products","hasBrands","brands","isFetchingError","error","isError","isProductListVisible","openForm","closeForm","message"],"sources":["C:/Users/Acer/Desktop/e-commerce-react-app-master/src/components/pages/adminPages/ProductsPage/ProductsPage.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { AppDispatch, RootState } from '../../../../store/store';\nimport ProductForm from '../../../admin/ProductForm/ProductForm';\nimport Placeholder from '../../../UI/Placeholder/Placeholder';\nimport Actions from '../../../layouts/adminLayouts/Actions/Actions';\nimport Content from '../../../layouts/adminLayouts/Content/Content';\nimport ProductsList from '../../../admin/ProductsList/ProductsList';\nimport { removeSelectedProduct } from '../../../../store/ProductSlice';\nimport Loader from '../../../UI/Loader/Loader';\nimport {\n  ADD_BRAND_AND_CATEGORY_MESSAGE,\n  ADD_BRAND_MESSAGE,\n  ADD_CATEGORY_MESSAGE,\n  NO_PRODUCTS_MESSAGE,\n} from '../../../../constants/messages';\n\nconst ProductsPage: React.FC = () => {\n  const [isFormOpen, setIsFormOpen] = useState(false);\n  const { brand, category, product } = useSelector((state: RootState) => state);\n  const dispatch = useDispatch<AppDispatch>();\n  const isDataLoading = [brand.isLoading, category.isLoading, product.isLoading].some(Boolean);\n  const hasCategories = category.categories.length > 0;\n  const hasProducts = product.products.length > 0;\n  const hasBrands = brand.brands.length > 0;\n  const isFetchingError = product.error.isError;\n  const isProductListVisible = hasCategories && hasProducts && hasBrands && !isFormOpen && !isFetchingError;\n\n  const openForm = () => {\n    setIsFormOpen(true);\n  };\n\n  const closeForm = () => {\n    setIsFormOpen(false);\n    dispatch(removeSelectedProduct());\n  };\n\n  return (\n    <>\n      <Actions\n        title={'Товары'}\n        onAction={openForm}\n        actionBtnText={'Добавить товар'}\n        isOpen={isFormOpen}\n        isDisabled={!hasCategories || !hasBrands}\n      />\n\n      <Content>\n        <>\n          {isDataLoading && <Loader />}\n\n          {!isDataLoading && isFetchingError && <Placeholder text={product.error.message} />}\n\n          {!isDataLoading && !isFetchingError && !hasCategories && <Placeholder text={ADD_CATEGORY_MESSAGE} />}\n\n          {!isDataLoading && !isFetchingError && !hasBrands && <Placeholder text={ADD_BRAND_MESSAGE} />}\n\n          {!isDataLoading && !isFetchingError && !hasBrands && !hasCategories && (\n            <Placeholder text={ADD_BRAND_AND_CATEGORY_MESSAGE} />\n          )}\n\n          {!isDataLoading && !isFetchingError && !hasProducts && !hasBrands && !hasCategories && (\n            <Placeholder text={NO_PRODUCTS_MESSAGE} />\n          )}\n\n          {isProductListVisible && (\n            <ProductsList\n              products={product.products}\n              onOpen={openForm}\n              isLoading={product.isLoading}\n              categories={category.categories}\n              brands={brand.brands}\n            />\n          )}\n          {isFormOpen && <ProductForm onClose={closeForm} categories={category.categories} brands={brand.brands} />}\n        </>\n      </Content>\n    </>\n  );\n};\n\nexport default ProductsPage;\n"],"mappings":";;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AAEA,OAAOC,WAAP,MAAwB,wCAAxB;AACA,OAAOC,WAAP,MAAwB,qCAAxB;AACA,OAAOC,OAAP,MAAoB,+CAApB;AACA,OAAOC,OAAP,MAAoB,+CAApB;AACA,OAAOC,YAAP,MAAyB,0CAAzB;AACA,SAASC,qBAAT,QAAsC,gCAAtC;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,SACEC,8BADF,EAEEC,iBAFF,EAGEC,oBAHF,EAIEC,mBAJF,QAKO,gCALP;;;;AAOA,MAAMC,YAAsB,GAAG,MAAM;EAAA;;EACnC,MAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BhB,QAAQ,CAAC,KAAD,CAA5C;EACA,MAAM;IAAEiB,KAAF;IAASC,QAAT;IAAmBC;EAAnB,IAA+BjB,WAAW,CAAEkB,KAAD,IAAsBA,KAAvB,CAAhD;EACA,MAAMC,QAAQ,GAAGpB,WAAW,EAA5B;EACA,MAAMqB,aAAa,GAAG,CAACL,KAAK,CAACM,SAAP,EAAkBL,QAAQ,CAACK,SAA3B,EAAsCJ,OAAO,CAACI,SAA9C,EAAyDC,IAAzD,CAA8DC,OAA9D,CAAtB;EACA,MAAMC,aAAa,GAAGR,QAAQ,CAACS,UAAT,CAAoBC,MAApB,GAA6B,CAAnD;EACA,MAAMC,WAAW,GAAGV,OAAO,CAACW,QAAR,CAAiBF,MAAjB,GAA0B,CAA9C;EACA,MAAMG,SAAS,GAAGd,KAAK,CAACe,MAAN,CAAaJ,MAAb,GAAsB,CAAxC;EACA,MAAMK,eAAe,GAAGd,OAAO,CAACe,KAAR,CAAcC,OAAtC;EACA,MAAMC,oBAAoB,GAAGV,aAAa,IAAIG,WAAjB,IAAgCE,SAAhC,IAA6C,CAAChB,UAA9C,IAA4D,CAACkB,eAA1F;;EAEA,MAAMI,QAAQ,GAAG,MAAM;IACrBrB,aAAa,CAAC,IAAD,CAAb;EACD,CAFD;;EAIA,MAAMsB,SAAS,GAAG,MAAM;IACtBtB,aAAa,CAAC,KAAD,CAAb;IACAK,QAAQ,CAACb,qBAAqB,EAAtB,CAAR;EACD,CAHD;;EAKA,oBACE;IAAA,wBACE,QAAC,OAAD;MACE,KAAK,EAAE,QADT;MAEE,QAAQ,EAAE6B,QAFZ;MAGE,aAAa,EAAE,gBAHjB;MAIE,MAAM,EAAEtB,UAJV;MAKE,UAAU,EAAE,CAACW,aAAD,IAAkB,CAACK;IALjC;MAAA;MAAA;MAAA;IAAA,QADF,eASE,QAAC,OAAD;MAAA,uBACE;QAAA,WACGT,aAAa,iBAAI,QAAC,MAAD;UAAA;UAAA;UAAA;QAAA,QADpB,EAGG,CAACA,aAAD,IAAkBW,eAAlB,iBAAqC,QAAC,WAAD;UAAa,IAAI,EAAEd,OAAO,CAACe,KAAR,CAAcK;QAAjC;UAAA;UAAA;UAAA;QAAA,QAHxC,EAKG,CAACjB,aAAD,IAAkB,CAACW,eAAnB,IAAsC,CAACP,aAAvC,iBAAwD,QAAC,WAAD;UAAa,IAAI,EAAEd;QAAnB;UAAA;UAAA;UAAA;QAAA,QAL3D,EAOG,CAACU,aAAD,IAAkB,CAACW,eAAnB,IAAsC,CAACF,SAAvC,iBAAoD,QAAC,WAAD;UAAa,IAAI,EAAEpB;QAAnB;UAAA;UAAA;UAAA;QAAA,QAPvD,EASG,CAACW,aAAD,IAAkB,CAACW,eAAnB,IAAsC,CAACF,SAAvC,IAAoD,CAACL,aAArD,iBACC,QAAC,WAAD;UAAa,IAAI,EAAEhB;QAAnB;UAAA;UAAA;UAAA;QAAA,QAVJ,EAaG,CAACY,aAAD,IAAkB,CAACW,eAAnB,IAAsC,CAACJ,WAAvC,IAAsD,CAACE,SAAvD,IAAoE,CAACL,aAArE,iBACC,QAAC,WAAD;UAAa,IAAI,EAAEb;QAAnB;UAAA;UAAA;UAAA;QAAA,QAdJ,EAiBGuB,oBAAoB,iBACnB,QAAC,YAAD;UACE,QAAQ,EAAEjB,OAAO,CAACW,QADpB;UAEE,MAAM,EAAEO,QAFV;UAGE,SAAS,EAAElB,OAAO,CAACI,SAHrB;UAIE,UAAU,EAAEL,QAAQ,CAACS,UAJvB;UAKE,MAAM,EAAEV,KAAK,CAACe;QALhB;UAAA;UAAA;UAAA;QAAA,QAlBJ,EA0BGjB,UAAU,iBAAI,QAAC,WAAD;UAAa,OAAO,EAAEuB,SAAtB;UAAiC,UAAU,EAAEpB,QAAQ,CAACS,UAAtD;UAAkE,MAAM,EAAEV,KAAK,CAACe;QAAhF;UAAA;UAAA;UAAA;QAAA,QA1BjB;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QATF;EAAA,gBADF;AA0CD,CA9DD;;GAAMlB,Y;UAEiCZ,W,EACpBD,W;;;KAHba,Y;AAgEN,eAAeA,YAAf"},"metadata":{},"sourceType":"module"}